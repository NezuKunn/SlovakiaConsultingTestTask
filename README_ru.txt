Приветствую

Случилась такая ситуация - я немного не понял тестового задания и написал в чате человеку, который откликнулся на мою заявку, после чего не получил ответа
Мой код - локальный сервер, который по запросу и json data воспринимает что ему нужно выполнить
Я сделал логику, что сначала проверяется, есть ли пользователь в базе данных, хватает ли ему средств и есть ли ассет, который указал пользователь
Потом высчитывается количество получаемых токенов по цене на данный момент по апи jupiter v6, собираются необходимые данные, константы в values.json

Поскольку мне были не понятны некоторые моменты, я сделал в своём понимании
Поэтому в коде нет никакого взаимодействия с платформой и её таблицей в базе данных
Я сделал условный пример, который основан на данных пользователя и данных ассетов, позиции в данный момент представляют из себя не буферные данные, а суммарно данные пользователя, которыми он по сути оперирует сам, чуть ли не из кошелька

Так-же, я сделал код рабочим в main-net через raydium (по скольку был не в курсе, требуется ли это), из-за его произошли некоторые несостыковки в удобстве и работе
Например как, появление самих аккаунтов пользователей в базе данных и все необходимые параметры для работы реального кода (rpc, secret key и так далее)

Постарался уделить внимание безопасности базы данных, не делал много проверок на ошибки по скольку пользователь не имеет возможности взаимодействовать с базой данных напрямую, ему дан лишь "интерфейс апи", который сделан только для взаимодействия с уже имеющимися данными

Входные данные:
- аккаунт пользователя в clients таблице (настоятельно рекомендую при тестировании исходного кода заполнить реальные данные аккаунта Solana, который вы будете вписывать в values.js)
- ассет в assets (тоже реальные данные токена)

Знаю, что код не самой лучшей типизации и абстракции, но логика и так не требует особых классов, так что я обошёлся только одним - базой данных, и двумя отдельными файлами с самой логикой на блокчейне

Спасибо за внимание и надеюсь на дальнейшее сотрудничество